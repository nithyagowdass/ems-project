<!DOCTYPE html>
<html>
<head>
    <title>EMS - Events</title>
    <style>
        body, html { height:100%; margin:0; font-family: Arial,sans-serif; background:#f2f2f2;}
        header { background:#007bff; color:white; padding:20px; text-align:center; }
        nav { padding:10px; text-align:center; }
        nav a { margin:0 10px; color:#007bff; text-decoration:none; font-weight:bold;}
        .container { width:90%; max-width:600px; margin:20px auto; }
        .card { background:white; padding:20px; margin-bottom:15px; border-radius:8px; box-shadow:0 2px 5px rgba(0,0,0,0.2);}
        button { padding:10px 15px; border:none; border-radius:5px; background:#007bff; color:white; cursor:pointer; }
        button:hover { background:#0056b3; }
    </style>
</head>
<body>

<header>
    <h1>Event Management System</h1>
</header>

<nav>
    <a href="index.html">Home</a>
</nav>

<div class="container">
    <h2>Available Events</h2>

    <div class="card"><h3>Tech Fest 2026</h3><p>Date: March 10, 2026</p><button onclick="registerEvent('Tech Fest 2026')">Register</button></div>
    <div class="card"><h3>Cultural Night</h3><p>Date: April 5, 2026</p><button onclick="registerEvent('Cultural Night')">Register</button></div>
    <div class="card"><h3>Sports Meet</h3><p>Date: May 15, 2026</p><button onclick="registerEvent('Sports Meet')">Register</button></div>
    <div class="card"><h3>Art & Craft Exhibition</h3><p>Date: June 20, 2026</p><button onclick="registerEvent('Art & Craft Exhibition')">Register</button></div>
    <div class="card"><h3>Music Concert</h3><p>Date: July 10, 2026</p><button onclick="registerEvent('Music Concert')">Register</button></div>
    <div class="card"><h3>Science Workshop</h3><p>Date: August 5, 2026</p><button onclick="registerEvent('Science Workshop')">Register</button></div>
    <div class="card"><h3>Drama & Theatre Night</h3><p>Date: September 15, 2026</p><button onclick="registerEvent('Drama & Theatre Night')">Register</button></div>

    <hr>
    <h2>My Registered Events</h2>
    <ul id="myEvents"></ul>
</div>

<script>
function loadEvents(){
    var events = JSON.parse(localStorage.getItem("events")) || [];
    var list = document.getElementById("myEvents");
    list.innerHTML = "";
    events.forEach(function(event){
        var li = document.createElement("li");
        li.textContent = event;
        list.appendChild(li);
    });
}

function registerEvent(eventName){
    var currentUser = localStorage.getItem("fullname");
    if(!currentUser){
        alert("Please login first to register for events!");
        return;
    }
    var events = JSON.parse(localStorage.getItem("events")) || [];
    if(events.includes(eventName)){
        alert("Already registered for this event!");
        return;
    }
    events.push(eventName);
    localStorage.setItem("events", JSON.stringify(events));
    alert(currentUser + " successfully registered for " + eventName + "!");
    loadEvents();
}

loadEvents();
</script>
</body>
</html>
